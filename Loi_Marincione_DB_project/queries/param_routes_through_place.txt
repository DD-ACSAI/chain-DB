-- This is a parametrized query (one of those used inside the codebase)
-- to use it as a normal query you must replace the '%' with a value!

SELECT *
FROM "Client"
WHERE "Client"."CompanyCode" IN (
	SELECT "Shipment"."ClientCode"
	FROM "Shipment" JOIN "Crossing" as cr ON ("Shipment"."ID" = cr."ShipmentCode")
	WHERE EXISTS (
		SELECT *
		FROM "Place"
		WHERE ("Place"."ID" = cr."PlaceA" OR "Place"."ID" = cr."PlaceB")
			AND "Place"."Name" = %
	)
)